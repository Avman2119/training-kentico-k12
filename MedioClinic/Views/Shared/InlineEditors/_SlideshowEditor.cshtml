@using MedioClinic.Models.InlineEditors
@model SlideshowEditorViewModel

@{ 
    HtmlString GetActionUrl(string action)
    {
        return Url.Kentico().AuthenticateUrl(Url.Action(action, "SlideshowManagement", new
        {
            pageId = Context.Kentico().PageBuilder().PageIdentifier
        }), false);
    }

    // Image rendering: Alternative 2 (begin)
    string SerializeGuids(IEnumerable<Guid> guids) =>
        string.Concat(guids.Select(guid => guid.ToString() + ";"));
    // Image rendering: Alternative 2 (end)
}

@using (Html.Kentico().BeginInlineEditor("slideshow-editor", Model.PropertyName,
    new
    {
        @class = "slideshow-editor",
        data_swiper_guid = Model.SwiperId,

        // Image rendering: Alternative 2
        data_image_guids = SerializeGuids(Model.Images.Select(image => image.AttachmentGUID)),

        data_upload_url = GetActionUrl("Upload").ToString(),
        data_delete_url = GetActionUrl("Delete").ToString(),
        data_width = Model.Width,
        data_height = Model.Height,
        data_droptext = Html.Localize("InlineEditors.SlideshowEditor.DropText")
    }))
{
    <ul class="slideshow-buttons">
        <li>
            <button class="swiper-plus">+</button>
        </li>
        <li>
            <button class="swiper-minus">-</button>
        </li>
    </ul>
}